      </div>
    </main>

    <!-- Right TOC -->
    <aside class="toc">
      <div class="toc-title">On this page</div>
      <a href="#what-is-techdocs" class="toc-item">What is TechDocs?</a>
      <a href="#key-features" class="toc-item">Key Features</a>
      <a href="#responsive-design" class="toc-item level-2">Responsive Design</a>
      <a href="#syntax-highlighting" class="toc-item level-2">Syntax Highlighting</a>
      <a href="#next-steps" class="toc-item">Next Steps</a>
    </aside>
  </div> <!-- layout -->

  <script>
    // Theme toggle functionality
    function toggleTheme() {
      const html = document.documentElement;
      const currentTheme = html.getAttribute('data-theme');
      const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
      html.setAttribute('data-theme', newTheme);
    }

    // Mobile sidebar toggle
    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      sidebar.classList.toggle('open');
    }

    // Version change handler
    function handleVersionChange(version) {
      console.log('Switching to version:', version);
      // Here you would typically reload content for the selected version
    }

    // Content loading simulation
    function loadContent(page) {
      // Remove active class from all sidebar items
      document.querySelectorAll('.sidebar-item').forEach(item => {
        item.classList.remove('active');
      });
      
      // Add active class to clicked item
      event.target.classList.add('active');
      
      // Simulate content loading based on page
      const content = document.getElementById('content');
      const contentMap = {
        'introduction': {
          title: 'Getting Started with TechDocs',
          body: `<p>Welcome to TechDocs, a modern documentation framework...</p>
               <h2 id="what-is-techdocs">What is TechDocs?</h2>
               <p>TechDocs provides a comprehensive solution for documentation...</p>`
        },
        'installation': {
          title: 'Installation Guide',
          body: `<p>Installing TechDocs is quick and easy. Follow these steps:</p>
               <h2 id="prerequisites">Prerequisites</h2>
               <p>Before installing, make sure you have:</p>
               <ul><li>Node.js 14+ installed</li><li>A package manager (npm or yarn)</li></ul>
               <h2 id="install-steps">Installation Steps</h2>
               <pre><code>npm install techdocs</code></pre>`
        },
        'quickstart': {
          title: 'Quick Start Tutorial',
          body: `<p>Get up and running with TechDocs in under 5 minutes.</p>
               <h2 id="create-project">Create Your First Project</h2>
               <p>Run the following command to create a new documentation project:</p>
               <pre><code>npx create-techdocs my-docs</code></pre>`
        }
      };
      
      const pageContent = contentMap[page] || contentMap['introduction'];
      content.innerHTML = `<h1>${pageContent.title}</h1>${pageContent.body}`;
      
      // Update TOC based on content
      updateTOC();
    }

    // Update table of contents
    function updateTOC() {
      const content = document.getElementById('content');
      const headings = content.querySelectorAll('h2, h3');
      const toc = document.querySelector('.toc');
      
      // Clear existing TOC items except title
      const tocItems = toc.querySelectorAll('.toc-item');
      tocItems.forEach(item => item.remove());
      
      // Add new TOC items
      headings.forEach(heading => {
        const link = document.createElement('a');
        link.href = `#${heading.id}`;
        link.className = `toc-item ${heading.tagName === 'H3' ? 'level-2' : ''}`;
        link.textContent = heading.textContent;
        toc.appendChild(link);
      });
    }

    // Initialize TOC highlighting on scroll
    window.addEventListener('scroll', () => {
      const headings = document.querySelectorAll('h2, h3');
      const tocItems = document.querySelectorAll('.toc-item');
      
      let current = '';
      headings.forEach(heading => {
        const rect = heading.getBoundingClientRect();
        if (rect.top <= 100) {
          current = heading.id;
        }
      });
      
      tocItems.forEach(item => {
        item.classList.remove('active');
        if (item.getAttribute('href') === `#${current}`) {
          item.classList.add('active');
        }
      });
    });

    // Close mobile sidebar on content click
    document.addEventListener('click', (e) => {
      const sidebar = document.getElementById('sidebar');
      if (window.innerWidth <= 768 && !sidebar.contains(e.target) && !e.target.classList.contains('mobile-menu-btn')) {
        sidebar.classList.remove('open');
      }
    });
  </script>
</body>
</html>
